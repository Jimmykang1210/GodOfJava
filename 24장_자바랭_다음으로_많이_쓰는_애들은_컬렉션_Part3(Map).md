### 24장 자바랭 다음으로 많이 쓰는 애들은 컬렉션 - Part3(Map)

- `Map`
    - Key와 Value로 이루어짐, 1:1로 저장, Key는 해당 `Map`에 중복되지 않음
    - 모든 데이터는 키와 값이 존재
    - 키가 없이 값만 저장될 수 없음
    - 값 없이 키만 저장 불가
    - 키는 해당 `Map`에서 고유해야 함
    - 값은 `Map`에서 중복되어도 상관 없음
- `Map` 인터페이스와 `Hashtable` 클래스의 차이
    - Hashtable 클래스는 Map 인터페이스를 구현한 일반 클래스들과 다름
    - Map은 Collection View를 사용하지만 Hashtable은 Enumeration 객체를 통해 데이터를 처리
    - Map은 키, 값, 키-값 쌍으로 데이터를 순환하여 처리할 수 있지만, Hashtable은 이 중 키-값 쌍으로 데이터를 순환하여 처리할 수 없음
    - Map은 이터레이션을 처리하는 도중 데이터를 삭제하는 안전한 방법을 제공, Hashtable은 그러한 기능 미제공
    - HashMap은 키나 값에 null 저장이 가능하지만 Hashtable은 불가능
    - HashMap은 여러 쓰레드에 불안전하지만 Hashtable은 안전
    - HashMap을 제외한 Map으로 끝나는 클래스들을 여러 쓰레드에서 동시에 접근하여 처리할 필요가 있을 때에는 다음과 같이 선언 필요
        
        `Map m = Collections.syncronizedMap(new HashMap(…));`
        
    - `Hashtable, Vector` 클래스 외에 대부분의 `Collection` 관련 클래스들은 `syncronizedMap` 선언하거나 Concurrent가 포함되어 있어야만 쓰레드에 안전하게 사용 가능
- `HashMap` 클래스
    - 대부분 `HashMap` 객체 생성 시, 매개 변수가 없는 생성자를 사용
    - `HashMap`에 담을 데이터의 개수가 많은 경우 초기 크기를 지정해 주는 것을 권장 → default 16개
    - `HashMap` 객체가 들어가면 hashCode() 메소드의 결과 값에 따른 bucket이라는 list 형태의 바구니가 생성
    - 서로 다른 키가 저장되었는데, hashCode() 메소드의 결과가 동일하다면, 이 bucket에 여러 개의 값이 들어갈 수 있음
    - `get()` 메소드가 호출 시 `hashCode()`의 결과를 확인하고, bucket에 들어간 목록의 데이터가 여러 개일  경우, `equals()` 메소드를 호출하여 동일한 값을 찾음
    - `Map`에서는 추가한다는 표현보다는 데이터를 넣는다는 표현을 씀 → put() 메소드 사용
    - `Map`에서는 존재하지 않는 키로 get() 할 경우 null 리턴, 새로운 값을 추가하거나, 기존 값을 수정할 때 모두 put() 메소드 사용
    - 자바의 자료 구조 중에서 저장 순서가 중요한 것은 List와 Queue 뿐이다
    - `Set`과 `Map`은 데이터 추가 순서는 중요하지 않음, Set은 데이터가 중복되지 않는 것이 중요, Map은 키가 중복되지 않는 것이 중요
    - `keySet()` 메소드 사용 시, Set 타입으로 리턴되며, 키 조회 가능
    - values() 메소드 사용 시, HashMap에 담겨 있는 값의 목록을 Collection 타입의 목록으로 리턴
    - Map에 저장된 모든 값 출력 시
        - values() 메소드 사용하는 것이 keySet() 메소드로 모든 키 값을 가져 온 후 처리하는 것보다 간편
        - entrySet() 메소드 사용 시, Map에 선언된 Entry타입의 객체 리턴, 단 하나의 키와 값만 저장됨, `getKey(), getValue()` 메소드로 키와 값 추출
    - Map에 있는 데이터 꺼낼 때, 목적에 맞는 메소드를 적절히 선택하는 것이 중요
- TreeMap
    - 저장하면서 키를 정렬, 정렬되는 기본적인 순서는 “숫자 > 알파벳 대문자 > 알파벳 소문자 > 한글” 순으로 정렬
    - String과 같은 문자열이 저장되는 순서, 객체가 저장되거나, 숫자가 저장될 때에는 그 순서가 달라짐
    - 키를 정렬하여 저장하고, 키의 목목을 가져와서 출력해보면 정렬된 순서대로 제공, 매우 많은 데이터 보관 시 HashMap보다 느림 → 키 정렬 필요
    - SortMap 인터페이스를 구현했기 때문, 키가 정렬되어 있아야만 함
- XML (eXtensible Markup Language) 태그로 구성되어 있는 텍스트 문서
- `Properties` 클래스
    - 객체에 시스템 속성 뿐 아니라 애플리케이션에서 사용할 여러 속성값들을 `Properties` 클래스를 사용하여 데이터를 사용 가능
    - 여러 속성을 저장하고, 읽어들이는 작업을 보다 쉽게 사용 가능
- 정리 문제
    - `Map` 형태의 자료 구조는 무엇과 무엇으로 구성되어 있나요?
        - Key-Value
    - `Map`에서 데이터를 저장하는 메소드는 무엇인가요?
        - `put()`
    - `Map`에서 특정 키에 할당된 값을 가져오는 메소드는 무엇인가요?
        - `get()`
    - `Map`에서 특정 키와 관련된 키와 데이터를 지우는 메소드는 무엇인가요?
        - `remove()`
    - `Map`에서 키의 목록을 가져오는 메소드는 무엇인가요?
        - `keySet()`
    - `Map`에 저장되어 있는 데이터의 크기를 가져오는 메소드는 무엇인가요?
        - `size()`
    - `HashMap`과 `Hashtable` 중에서 키나 값에 `null`을 저장할 수 있는 것은 무엇인가요?
        - `HashMap`
    - `HashMap`과 `Hashtable` 중에서 여러 쓰레드에서 동시에 점근해도 문제가 없는 것은 무엇인가요?
        - `Hashtable`
    - `HashMap`에서 특정 키가 존재하는지 확인하는 메소드는 무엇인가요?
        - `containsKey()`
    - 이 장에서 살펴본 클래스 중, 키가 저장되면서 정렬되는 `Map`에는 어떤 것이 있나요?
        - `TreeMap`
    - `Properties` 클래스는 어떤 클래스를 확장한 것인가요?
        - `HashTable`
    - `Properties` 클래스의 객체에 있는 데이터를 파일로 저장할 때에는 어떤 메소드들을 사용하면 되나요?
        - `store()`